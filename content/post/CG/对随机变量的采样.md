
---
title: "对随机变量的采样"
date: 2020-05-23T22:12:52+08:00
draft: false
# tags: [ "" ]
categories: [ "CG"]
# keywords: [ ""]
lastmod: 2020-05-23T22:12:52+08:00
# CJKLanguage: Chinese, Japanese, Korean
isCJKLanguage: true
slug: "对随机变量的采样"
toc: true
# latex support
katex: true
markup: mmark
---

首先,先上*Rendering Equation*:

$$
L_o(p,\omega_o) = L_e(p,\omega_o) + \int_{\Omega +}L_i(p,\omega _i)f_r(p,\omega_i,\omega_o)(n \cdot \omega_i) \text{d}\omega_i
$$

其中包含有含有递归定义的L项和对半球面的积分项,这个式子是没有解析解的,数值方法可以使用蒙特卡罗积分,而蒙特卡罗积分就涉及到对随机变量的采样.

## 逆采样方法
如果$$X$$是连续型随机变量,其概率密度函数$$p(x)$$已知, 则在定义域内可以积分得到其累积分布函数(CDF)为:

$$
P(x) = \int_0^x p(x')\text{d}x' 
$$

计算其反函数,令一随机变量$$u \in [0,1)$$,则有

$$
P(P^{-1}(x)) = u
$$

解可得:

$$
P^{-1}(x) = g(u)
$$

其中$$P^{-1}(x)$$即为服从$$P(x)$$分布的样本, 而这个样本可以从均匀分布的$$u$$中导出.


## 一维随机变量的采样

设概率密度$$p(x) = 3x^2, x\in(0,1)$$,
则可以得到其分布函数为$$P(x) = x^3, x\in(0,1)$$.
令

$$
P(P^{-1}(x)) = u, u\in[0,1)\\
\rArr (P^{-1}(x))^3 = u, u\in[0,1]\\
\rArr P^{-1}(x) = u^{\frac{1}{3}}, u\in[0,1]
$$

则可以通过对均匀分布的u采样(取(0,1)之间的随机数)来得到x的样本,而x的样本服从$$P(x)$$分布.

## 不同分布的转换
...
## 二维随机变量的采样
...
